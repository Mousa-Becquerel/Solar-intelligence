<!DOCTYPE html>
<html lang="en">
<head>
    <!-- ============================================
         META TAGS & SEO
         ============================================ -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Solarintelligence - Advanced AI-powered analytics for solar intelligence. Market analysis, pricing data, and industry insights.">
    <meta name="keywords" content="solar, photovoltaic, PV, AI, analytics, market analysis, solar intelligence">
    <title>Solarintelligence - The Future of Solar Analytics</title>

    <!-- ============================================
         FAVICON & EXTERNAL RESOURCES
         ============================================ -->
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='logos/new_logo.svg') }}">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/landing.css') }}" rel="stylesheet">

    <!-- D3.js for interactive charts -->
    <script src="https://d3js.org/d3.v7.min.js"></script>

    <!-- ============================================
         PAGE-SPECIFIC INLINE STYLES
         ============================================ -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background:
                radial-gradient(circle at 20% 30%, rgba(251, 191, 36, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(139, 92, 246, 0.12) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(4, 11, 89, 0.4) 0%, transparent 70%),
                linear-gradient(135deg, #0a1850 0%, #1e1b4b 30%, #312e81 60%, #3730a3 100%);
            background-size: 100% 100%, 100% 100%, 100% 100%, 100% 100%;
            background-attachment: scroll;
        }
        
        .modern-logo {
            font-family: 'Inter', sans-serif;
            font-weight: 300;
            letter-spacing: 0.025em;
            font-feature-settings: 'kern' 1, 'liga' 1;
        }

        .modern-logo .accent {
            font-weight: 400;
            transition: all 0.3s ease;
        }

        .logo-with-subtitle {
            display: flex;
            flex-direction: column;
            gap: 0.05rem;
        }

        .logo-image {
            height: 70px;
            width: auto;
            max-width: 400px;
            object-fit: contain;
            margin-right: auto;
            filter: brightness(0) invert(1);
            opacity: 0.95;
        }

        .tagline-main {
            font-size: 1rem;
            font-weight: 400;
            color: #ffffff;
            line-height: 1.2;
            border-left: 1px solid rgba(251, 191, 36, 0.4);
            padding-left: 1.5rem;
        }

        .tagline-sub {
            font-size: 0.75rem;
            font-weight: 300;
            color: rgba(255, 255, 255, 0.7);
            font-style: italic;
            line-height: 1.2;
            padding-left: 4.2rem;
            margin-top: -1.1rem;
        }

        @media (max-width: 768px) {
            .logo-image {
                height: 50px;
            }

            .tagline-main {
                display: none;
            }

            .tagline-sub {
                font-size: 0.65rem;
                padding-left: 3rem;
            }
        }
        
        .gradient-bg {
            background:
                radial-gradient(circle at 20% 30%, rgba(251, 191, 36, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(139, 92, 246, 0.12) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(4, 11, 89, 0.4) 0%, transparent 70%),
                linear-gradient(135deg, #0a1850 0%, #1e1b4b 30%, #312e81 60%, #3730a3 100%);
            background-size: 100% 100%, 100% 100%, 100% 100%, 100% 100%;
            background-attachment: fixed;
            position: relative;
            overflow: hidden;
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .agent-card {
            background: rgba(255, 255, 253, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(233, 165, 68, 0.2);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .agent-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 30px rgba(233, 165, 68, 0.3);
            border-color: rgba(233, 165, 68, 0.4);
        }
        
        .hero-text {
            background: linear-gradient(90deg, #FFFFFD 0%, #E8BF4F 50%, #E9A544 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .hero-accent {
            position: relative;
            display: block;
            padding-bottom: 12px;
        }
        
        .hero-accent::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 3px;
            background: linear-gradient(90deg, #E9A544 0%, #E8BF4F 50%, #E9A544 100%);
            border-radius: 2px;
            box-shadow: 0 2px 8px rgba(233, 165, 68, 0.3);
        }
        
        .accent-color {
            color: #E9A544;
        }
        
        .accent-secondary {
            color: #E8BF4F;
        }
        
        .btn-primary {
            background: #E9A544;
            border: 2px solid #E9A544;
            transition: all 0.3s ease;
            text-transform: uppercase;
            font-weight: 600;
            letter-spacing: 0.5px;
        }
        
        .btn-primary:hover {
            background: transparent;
            border-color: #E9A544;
            color: #E9A544;
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(233, 165, 68, 0.3);
        }
        
        .btn-secondary {
            background: transparent;
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            transition: all 0.3s ease;
            text-transform: uppercase;
            font-weight: 600;
            letter-spacing: 0.5px;
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.5);
            transform: translateY(-2px);
        }
        
        .floating-element {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }
        
        .nav-link {
            position: relative;
            transition: all 0.3s ease;
            padding: 0.5rem 1.25rem;
            border-radius: 8px;
            font-size: 0.95rem;
        }

        .nav-link:hover {
            color: #E9A544;
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0.25rem;
            left: 50%;
            transform: translateX(-50%);
            background-color: #E9A544;
            transition: width 0.3s ease;
        }

        .nav-link:hover::after {
            width: 60%;
        }
        
        .stats-number {
            background: linear-gradient(90deg, #E9A544 0%, #E8BF4F 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* Ensure seamless navigation */
        nav {
            margin: 0;
            padding: 0;
            border: none !important;
            box-shadow: none !important;
            background: transparent !important;
        }
        
        /* Remove any potential separation */
        body, html {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }

        /* Enhanced Mobile Responsive Styles */
        @media (max-width: 768px) {
            /* Logo spacing */
            .tagline-sub {
                margin-top: 0.5rem;
            }

            /* Navigation */
            nav .max-w-full {
                padding: 0 1rem;
            }

            .hidden.md\\:flex {
                display: none !important;
            }

            /* Navigation buttons - prevent text wrapping */
            nav a {
                white-space: nowrap;
            }

            /* Hero section */
            section#home {
                padding-bottom: 2rem;
            }

            /* Action buttons in nav */
            .flex.items-center.space-x-4 {
                gap: 0.5rem;
            }

            .flex.items-center.space-x-4 a {
                font-size: 0.85rem;
                padding: 0.5rem 0.75rem;
                white-space: nowrap;
            }

            /* CTA Buttons - make them consistent and narrower */
            .btn-primary,
            .btn-secondary {
                padding: 0.875rem 2rem !important;
                font-size: 0.95rem !important;
                text-align: center;
                width: auto !important;
                max-width: 200px;
                margin: 0 auto;
            }

            /* CTA container */
            .flex.flex-col.sm\\:flex-row {
                align-items: center;
            }

            /* Agent cards */
            .agent-card {
                margin: 0.75rem;
            }

            /* Section padding */
            section {
                padding: 3rem 0 !important;
            }

            /* Comparison table */
            table {
                font-size: 0.85rem;
            }

            table th,
            table td {
                padding: 0.5rem;
            }
        }

        @media (max-width: 480px) {
            /* Extra small devices */
            .logo-image {
                height: 40px;
            }

            .tagline-sub {
                font-size: 0.6rem;
                padding-left: 2.5rem;
                margin-top: 0.4rem;
            }

            /* Navigation buttons */
            .flex.items-center.space-x-4 a {
                font-size: 0.75rem;
                padding: 0.4rem 0.6rem;
                white-space: nowrap;
            }

            /* CTA Buttons */
            .btn-primary,
            .btn-secondary {
                padding: 0.75rem 1.5rem !important;
                font-size: 0.85rem !important;
                max-width: 180px;
            }

            /* Hero text */
            h1 {
                font-size: 1.75rem !important;
            }

            h2 {
                font-size: 1.5rem !important;
            }

            p {
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body class="gradient-animation min-h-screen">
    <!-- ============================================
         LANDING PAGE STRUCTURE
         ============================================

         This page consists of 5 main sections:

         1. HERO SECTION (#home)
            - Navigation bar (logo, nav links, action buttons)
            - Hero content (headline, subtitle, CTA buttons)

         2. DATA STATISTICS SECTION (#data)
            - Statistics grid showing data coverage metrics
            - Animated counters for visual impact

         3. AI AGENTS SECTION (#agents)
            - Agent cards showcasing Alex, Maya, Luna
            - Descriptions of capabilities

         4. HOW IT WORKS SECTION (#workflow)
            - 4-step workflow explanation
            - Visual step indicators

         5. FOOTER
            - Logo, links, copyright

         For detailed documentation, see:
         /docs/LANDING_PAGE_STRUCTURE.md
         ============================================ -->

    <!-- ============================================
         SECTION 1: HERO SECTION
         Purpose: Primary landing content with navigation
         ============================================ -->
    <section id="home" class="relative overflow-hidden pb-12 lg:pb-20">
        <!-- Navigation inside hero -->
        <nav class="relative z-50 w-full pt-4">
            <div class="max-w-full mx-auto px-6 lg:px-8">
                <div class="flex justify-between items-center py-3">
                    <!-- Logo (Left) -->
                    <div class="flex items-center gap-8">
                        <div class="logo-with-subtitle">
                            <img src="{{ url_for('static', filename='logos/new_logo.svg') }}" alt="Solar Intelligence" class="logo-image">
                            <p class="tagline-sub">Powered by Becquerel Institute</p>
                        </div>

                        <!-- Navigation Links (Right of Logo) -->
                        <div class="hidden md:flex items-center space-x-6">
                            <a href="#home" class="nav-link text-white font-medium">Home</a>
                            <a href="#agents" class="nav-link text-white font-medium">AI Agents</a>
                            <a href="#data" class="nav-link text-white font-medium">Data Coverage</a>
                            <a href="#workflow" class="nav-link text-white font-medium">How It Works</a>
                            <a href="#comparison" class="nav-link text-white font-medium">Comparison</a>
                            <a href="#faq" class="nav-link text-white font-medium">FAQ</a>
                        </div>
                    </div>

                    <!-- Action Buttons (Right) -->
                    <div class="flex items-center space-x-4">
                        <a href="{{ url_for('auth.login') }}" class="text-white font-medium hover:text-orange-400 transition-colors px-4 py-2">
                            Sign In
                        </a>
                        <a href="#" onclick="openContactWidget(); return false;" class="btn-primary text-white px-6 py-3 rounded-lg font-semibold transition-all duration-300">
                            Contact Us
                        </a>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Hero Content: Two Column Layout -->
        <div class="max-w-7xl mx-auto px-6 lg:px-8 pb-12 pt-8 relative z-20">
            <div class="grid lg:grid-cols-2 gap-12 items-center">

                <!-- Left Column: Text Content -->
                <div class="text-left">
                    <!-- Main Hero Text -->
                    <div class="text-4xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight">
                        <div class="mb-2 text-white font-light">THE FUTURE IS</div>
                        <div class="mb-2" style="color: #E9A544 !important; font-weight: 800; letter-spacing: 0.02em;">SOLAR,</div>
                        <div class="text-white font-light text-3xl md:text-4xl lg:text-5xl">
                            AND IT IS <span style="color: #E9A544 !important; font-weight: 700;">INTELLIGENT</span>
                        </div>
                    </div>

                    <!-- Subtitle -->
                    <p class="text-lg md:text-xl text-gray-300 mb-8 font-light leading-relaxed max-w-xl">
                        Advanced analytics for solar intelligence. Get instant insights from AI agents specialized in market analysis, pricing, and industry trends.
                    </p>

                    <!-- CTA Buttons -->
                    <div class="flex flex-col sm:flex-row gap-4">
                        <a href="{{ url_for('auth.login') }}" class="btn-primary text-white px-10 py-3.5 rounded-xl font-semibold text-base transition-all duration-300 hover:scale-105 shadow-lg">
                            START NOW
                        </a>
                        <a href="#agents" class="btn-secondary px-10 py-3.5 rounded-xl font-medium text-base transition-all duration-300 hover:scale-105">
                            EXPLORE
                        </a>
                    </div>
                </div>

                <!-- Right Column: Animated Agent Showcase -->
                <div class="relative hidden lg:block" style="height: 580px;">
                    <div class="agent-showcase-container">
                        <!-- Agent Card 1 -->
                        <div class="agent-showcase-card" id="showcase-card-1">
                            <div class="showcase-card-header">
                                <div class="agent-avatar" style="background: #E9A544; color: #040B59; box-shadow: 0 4px 16px rgba(233, 165, 68, 0.3);">
                                    <svg fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"></path>
                                    </svg>
                                </div>
                                <div>
                                    <div class="agent-name">Alex - Market Agent</div>
                                    <div class="agent-status">Generating visualization...</div>
                                </div>
                            </div>
                            <div class="showcase-card-content">
                                <div class="user-message-wrapper">
                                    <div class="user-message">
                                        Show the Italian PV market data from 2020 to 2025
                                    </div>
                                </div>
                                <div class="agent-response-chart">
                                    <div class="interactive-chart-container" id="showcase-chart-1" style="width: 100%; height: 100%;"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Agent Card 2 -->
                        <div class="agent-showcase-card" id="showcase-card-2">
                            <div class="showcase-card-header">
                                <div class="agent-avatar" style="background: #E9A544; color: #040B59; box-shadow: 0 4px 16px rgba(233, 165, 68, 0.3);">
                                    <svg fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"></path>
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z" clip-rule="evenodd"></path>
                                    </svg>
                                </div>
                                <div>
                                    <div class="agent-name">Maya - Price Agent</div>
                                    <div class="agent-status">Creating price comparison...</div>
                                </div>
                            </div>
                            <div class="showcase-card-content">
                                <div class="user-message-wrapper">
                                    <div class="user-message">
                                        Compare module prices: China vs India
                                    </div>
                                </div>
                                <div class="agent-response-chart">
                                    <div class="interactive-chart-container" id="showcase-chart-2" style="width: 100%; height: 100%;"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Agent Card 3 -->
                        <div class="agent-showcase-card" id="showcase-card-3">
                            <div class="showcase-card-header">
                                <div class="agent-avatar" style="background: #E9A544; color: #040B59; box-shadow: 0 4px 16px rgba(233, 165, 68, 0.3);">
                                    <svg fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M2 5a2 2 0 012-2h8a2 2 0 012 2v10a2 2 0 002 2H4a2 2 0 01-2-2V5zm3 1h6v4H5V6zm6 6H5v2h6v-2z" clip-rule="evenodd"></path>
                                        <path d="M15 7h1a2 2 0 012 2v5.5a1.5 1.5 0 01-3 0V7z"></path>
                                    </svg>
                                </div>
                                <div>
                                    <div class="agent-name">Emma - News Agent</div>
                                    <div class="agent-status">Searching...</div>
                                </div>
                            </div>
                            <div class="showcase-card-content">
                                <div class="user-message-wrapper">
                                    <div class="user-message">
                                        Latest policy updates in the US?
                                    </div>
                                </div>
                                <div class="agent-response-wrapper">
                                    <div class="agent-response">
                                        IRA extended solar ITC at 30% through 2032. New domestic content requirements provide 10% bonus credit for US-made modules and cells.
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Click Hint -->
                        <div style="position: absolute; bottom: -50px; left: 50%; transform: translateX(-50%); text-align: center;">
                            <p style="color: rgba(255, 255, 255, 0.5); font-size: 0.85rem; font-weight: 300; display: flex; align-items: center; gap: 8px;">
                                <svg class="swipe-hint-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="opacity: 0.6;">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 15l-6 6m0 0l-6-6m6 6V9a6 6 0 0112 0v3"></path>
                                </svg>
                                Click to explore
                            </p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- ============================================
         SECTION 2: FEATURE HIGHLIGHT
         Purpose: Showcase key platform value with visual appeal
         ============================================ -->
    <section id="data" class="py-24 overflow-hidden" style="background-color: #F3F3F8;">
        <div class="max-w-7xl mx-auto px-6 lg:px-8">
            <div class="grid lg:grid-cols-2 gap-16 items-center">

                <!-- Left: Animated Graphic -->
                <div class="relative flex items-center justify-center">
                    <div class="hexagon-container">
                        <!-- Hexagon outline -->
                        <svg class="hexagon-svg" viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
                            <!-- Main hexagon -->
                            <path class="hexagon-path" d="M 200 30 L 350 115 L 350 285 L 200 370 L 50 285 L 50 115 Z" fill="none" stroke="#E9A544" stroke-width="3" opacity="0.6"/>

                            <!-- Inner hexagon lines -->
                            <line x1="200" y1="30" x2="200" y2="370" stroke="#E9A544" stroke-width="2" opacity="0.3"/>
                            <line x1="50" y1="115" x2="350" y2="285" stroke="#E9A544" stroke-width="2" opacity="0.3"/>
                            <line x1="50" y1="285" x2="350" y2="115" stroke="#E9A544" stroke-width="2" opacity="0.3"/>

                            <!-- Animated circles -->
                            <circle class="floating-circle circle-1" cx="280" cy="120" r="30" fill="#E9A544" opacity="0.8"/>
                            <circle class="floating-circle circle-2" cx="120" cy="280" r="35" fill="#3B82F6" opacity="0.7"/>
                            <circle class="floating-circle circle-3" cx="200" cy="200" r="25" fill="#10B981" opacity="0.6"/>
                        </svg>
                    </div>
                </div>

                <!-- Right: Quote Content -->
                <div class="space-y-6">
                    <div class="space-y-4">
                        <p class="text-lg font-light leading-relaxed" style="color: #312e81;">
                            <span class="font-semibold" style="color: #1e1b4b;">SolarIntelligence.ai</span> is a hub of specialised
                            <span class="accent-color font-medium">AI agents</span> leveraging our internal tools and
                            <span class="accent-color font-medium">verified PV datasets</span> on market, supply chain, prices, policies and more!
                        </p>

                        <p class="text-lg font-semibold" style="color: #1e1b4b; margin-top: 1.5rem;">
                            Who is it useful for?
                        </p>

                        <p class="text-base font-light leading-relaxed" style="color: #312e81;">
                            Thanks to its intuitive interface, <span class="font-semibold" style="color: #1e1b4b;">Solarintelligence.ai</span>
                            will empower any stakeholder seeking trustable intelligence on solar photovoltaics.
                            Quickly and easily access validated information without complex dashboards.
                            Simply express your needs in your own words, get accurate answers and export-ready
                            <span class="accent-color font-medium">charts, tables or slides</span> based on
                            data validated by our team of experts.
                        </p>
                    </div>

                    <div class="pt-4">
                        <a href="{{ url_for('auth.login') }}" class="inline-flex items-center text-base font-semibold hover:text-orange-600 transition-colors group" style="color: #1e1b4b;">
                            <span>Start Your Analysis</span>
                            <svg class="w-5 h-5 ml-2 group-hover:translate-x-2 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                            </svg>
                        </a>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- ============================================
         SECTION 3: AI AGENTS
         Purpose: Introduce the AI agents and their capabilities
         Components: 4 agent cards with modern design
         ============================================ -->
    <section id="agents" class="py-24">
        <div class="max-w-7xl mx-auto px-6 lg:px-8">
            <div class="text-center mb-16">
                <h3 class="text-3xl md:text-4xl font-light text-white mb-4" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'SF Pro Display', sans-serif; letter-spacing: -0.02em;">
                    Our <span class="accent-color font-medium">AI Agents</span>
                </h3>
                <p class="text-lg text-gray-300 max-w-2xl mx-auto font-light" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'SF Pro Text', sans-serif;">
                    Specialized assistants for solar market intelligence
                </p>
            </div>

            <div class="grid lg:grid-cols-4 gap-6">
                <!-- Alex - Market Analysis Agent -->
                <div class="fancy-agent-card alex-card group">
                    <div class="fancy-card-header">
                        <div class="fancy-agent-icon">
                            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                            </svg>
                        </div>
                        <div>
                            <h4 class="fancy-agent-title">Alex</h4>
                            <p class="fancy-agent-subtitle">Market Analysis</p>
                        </div>
                    </div>

                    <p class="fancy-agent-description">
                        Analyzes global solar trends, capacity data, and regional insights with interactive visualizations.
                    </p>

                    <div class="fancy-agent-tags">
                        <span class="fancy-tag">Market Trends</span>
                        <span class="fancy-tag">Capacity Data</span>
                        <span class="fancy-tag">Regional Insights</span>
                    </div>

                    <a href="{{ url_for('auth.login') }}" class="fancy-explore-btn">
                        <span>Explore</span>
                        <svg class="w-4 h-4 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                        </svg>
                    </a>
                </div>

                <!-- Maya - Price Analysis Agent -->
                <div class="fancy-agent-card maya-card group">
                    <div class="fancy-card-header">
                        <div class="fancy-agent-icon">
                            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"/>
                            </svg>
                        </div>
                        <div>
                            <h4 class="fancy-agent-title">Maya</h4>
                            <p class="fancy-agent-subtitle">Price Analysis</p>
                        </div>
                    </div>

                    <p class="fancy-agent-description">
                        Tracks module pricing, cost breakdowns, and technology comparisons with validated DataHub data.
                    </p>

                    <div class="fancy-agent-tags">
                        <span class="fancy-tag">Module Prices</span>
                        <span class="fancy-tag">Cost Analysis</span>
                        <span class="fancy-tag">Tech Comparison</span>
                    </div>

                    <a href="{{ url_for('auth.login') }}" class="fancy-explore-btn">
                        <span>Explore</span>
                        <svg class="w-4 h-4 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                        </svg>
                    </a>
                </div>

                <!-- Luna - News Analysis Agent -->
                <div class="fancy-agent-card luna-card group">
                    <div class="fancy-card-header">
                        <div class="fancy-agent-icon">
                            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9.5a2.5 2.5 0 00-2.5-2.5H15"/>
                            </svg>
                        </div>
                        <div>
                            <h4 class="fancy-agent-title">Luna</h4>
                            <p class="fancy-agent-subtitle">News Analysis</p>
                        </div>
                    </div>

                    <p class="fancy-agent-description">
                        Analyzes solar industry news, policy updates, and market developments from reliable sources.
                    </p>

                    <div class="fancy-agent-tags">
                        <span class="fancy-tag">Industry News</span>
                        <span class="fancy-tag">Policy Updates</span>
                        <span class="fancy-tag">Market Trends</span>
                    </div>

                    <a href="{{ url_for('auth.login') }}" class="fancy-explore-btn">
                        <span>Explore</span>
                        <svg class="w-4 h-4 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                        </svg>
                    </a>
                </div>

                <!-- Nova - Digitalization Agent -->
                <div class="fancy-agent-card nova-card group">
                    <div class="fancy-card-header">
                        <div class="fancy-agent-icon">
                            <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M13 7H7v6h6V7z"></path>
                                <path fill-rule="evenodd" d="M7 2a1 1 0 012 0v1h2V2a1 1 0 112 0v1h2a2 2 0 012 2v2h1a1 1 0 110 2h-1v2h1a1 1 0 110 2h-1v2a2 2 0 01-2 2h-2v1a1 1 0 11-2 0v-1H9v1a1 1 0 11-2 0v-1H5a2 2 0 01-2-2v-2H2a1 1 0 110-2h1V9H2a1 1 0 010-2h1V5a2 2 0 012-2h2V2zM5 5h10v10H5V5z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div>
                            <h4 class="fancy-agent-title">Nova</h4>
                            <p class="fancy-agent-subtitle">Digitalization</p>
                        </div>
                    </div>

                    <p class="fancy-agent-description">
                        Expert in digitalization and AI integration across the PV value chain with Industry 4.0 insights.
                    </p>

                    <div class="fancy-agent-tags">
                        <span class="fancy-tag">Industry 4.0</span>
                        <span class="fancy-tag">AI Integration</span>
                        <span class="fancy-tag">Automation</span>
                    </div>

                    <a href="{{ url_for('auth.login') }}" class="fancy-explore-btn">
                        <span>Explore</span>
                        <svg class="w-4 h-4 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </section>



    <!-- ============================================
         SECTION 4: HOW IT WORKS
         Purpose: Explain the user workflow in 4 steps
         Components: Modern workflow steps with animations
         ============================================ -->
    <section id="workflow" class="py-24" style="background-color: #F3F3F8;">
        <div class="max-w-7xl mx-auto px-6 lg:px-8">
            <div class="text-center mb-20">
                <h2 class="text-3xl md:text-4xl mb-4" style="color: #1e1b4b; font-weight: 600; letter-spacing: -0.03em; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'SF Pro Display', sans-serif;">
                    How it works: <span class="accent-color" style="font-weight: 700;">from prompt to impact</span>
                </h2>
            </div>

            <!-- Workflow Steps -->
            <div class="workflow-grid">
                <!-- Step 1 -->
                <div class="modern-workflow-card group" data-step="1">
                    <div class="workflow-step-badge">01</div>
                    <div class="workflow-icon-container">
                        <svg class="workflow-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </div>
                    <h3 class="workflow-step-title">Ask</h3>
                    <p class="workflow-step-text" style="margin-bottom: 16px; font-size: 0.9rem; line-height: 1.5;">
                        Ask in natural language: specify market, metric, and timeframe in one sentence
                    </p>
                    <div style="text-align: left; font-size: 0.8125rem; color: #4b5563; line-height: 1.7; padding-top: 12px; border-top: 1px solid rgba(49, 46, 129, 0.1);">
                        <strong style="font-weight: 600; margin-bottom: 10px; display: block; color: #312e81; font-size: 0.8125rem;">Key features:</strong>
                        <ul style="list-style: none; padding-left: 0; margin: 0;">
                            <li style="padding-left: 18px; position: relative; margin-bottom: 10px; line-height: 1.7;">
                                <span style="position: absolute; left: 0; top: 3px; color: #E9A544; font-size: 1rem;">•</span>
                                Domain-aware queries (PV terms, units, definitions)
                            </li>
                            <li style="padding-left: 18px; position: relative; margin-bottom: 10px; line-height: 1.7;">
                                <span style="position: absolute; left: 0; top: 3px; color: #E9A544; font-size: 1rem;">•</span>
                                Prompt templates for common tasks
                            </li>
                            <li style="padding-left: 18px; position: relative; margin-bottom: 10px; line-height: 1.7;">
                                <span style="position: absolute; left: 0; top: 3px; color: #E9A544; font-size: 1rem;">•</span>
                                Smart filters (country, segment, technology)
                            </li>
                            <li style="padding-left: 18px; position: relative; margin-bottom: 0; line-height: 1.7;">
                                <span style="position: absolute; left: 0; top: 3px; color: #E9A544; font-size: 1rem;">•</span>
                                Saved/reproducible prompts
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Arrow 1 -->
                <div class="workflow-arrow hidden lg:flex">
                    <svg class="arrow-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                    </svg>
                </div>

                <!-- Step 2 -->
                <div class="modern-workflow-card group" data-step="2">
                    <div class="workflow-step-badge">02</div>
                    <div class="workflow-icon-container">
                        <svg class="workflow-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                        </svg>
                    </div>
                    <h3 class="workflow-step-title">Visualise</h3>
                    <p class="workflow-step-text" style="margin-bottom: 16px; font-size: 0.9rem; line-height: 1.5;">
                        Generate presentation-grade charts and tables instantly
                    </p>
                    <div style="text-align: left; font-size: 0.8125rem; color: #4b5563; line-height: 1.7; padding-top: 12px; border-top: 1px solid rgba(49, 46, 129, 0.1);">
                        <strong style="font-weight: 600; margin-bottom: 10px; display: block; color: #312e81; font-size: 0.8125rem;">Key features:</strong>
                        <ul style="list-style: none; padding-left: 0; margin: 0;">
                            <li style="padding-left: 18px; position: relative; margin-bottom: 10px; line-height: 1.7;">
                                <span style="position: absolute; left: 0; top: 3px; color: #E9A544; font-size: 1rem;">•</span>
                                Auto-build time series, bar/stacked, pie chart comparisons
                            </li>
                            <li style="padding-left: 18px; position: relative; margin-bottom: 10px; line-height: 1.7;">
                                <span style="position: absolute; left: 0; top: 3px; color: #E9A544; font-size: 1rem;">•</span>
                                Natural-language styling edits
                            </li>
                            <li style="padding-left: 18px; position: relative; margin-bottom: 10px; line-height: 1.7;">
                                <span style="position: absolute; left: 0; top: 3px; color: #E9A544; font-size: 1rem;">•</span>
                                Annotations, callouts, and source captions
                            </li>
                            <li style="padding-left: 18px; position: relative; margin-bottom: 0; line-height: 1.7;">
                                <span style="position: absolute; left: 0; top: 3px; color: #E9A544; font-size: 1rem;">•</span>
                                One-click switch between chart and table
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Arrow 2 -->
                <div class="workflow-arrow hidden lg:flex">
                    <svg class="arrow-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                    </svg>
                </div>

                <!-- Step 3 -->
                <div class="modern-workflow-card group" data-step="3">
                    <div class="workflow-step-badge">03</div>
                    <div class="workflow-icon-container">
                        <svg class="workflow-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                        </svg>
                    </div>
                    <h3 class="workflow-step-title">Analyse</h3>
                    <p class="workflow-step-text" style="margin-bottom: 16px; font-size: 0.9rem; line-height: 1.5;">
                        Agents provide additional insights and context to the numbers
                    </p>
                    <div style="text-align: left; font-size: 0.8125rem; color: #4b5563; line-height: 1.7; padding-top: 12px; border-top: 1px solid rgba(49, 46, 129, 0.1);">
                        <strong style="font-weight: 600; margin-bottom: 10px; display: block; color: #312e81; font-size: 0.8125rem;">Key features:</strong>
                        <ul style="list-style: none; padding-left: 0; margin: 0;">
                            <li style="padding-left: 18px; position: relative; margin-bottom: 10px; line-height: 1.7;">
                                <span style="position: absolute; left: 0; top: 3px; color: #E9A544; font-size: 1rem;">•</span>
                                Policy and macro-insights from verified sources
                            </li>
                            <li style="padding-left: 18px; position: relative; margin-bottom: 10px; line-height: 1.7;">
                                <span style="position: absolute; left: 0; top: 3px; color: #E9A544; font-size: 1rem;">•</span>
                                Scenarios and sensitivity (base/high/low)
                            </li>
                            <li style="padding-left: 18px; position: relative; margin-bottom: 10px; line-height: 1.7;">
                                <span style="position: absolute; left: 0; top: 3px; color: #E9A544; font-size: 1rem;">•</span>
                                Segmentation logic by country/segment/technology
                            </li>
                            <li style="padding-left: 18px; position: relative; margin-bottom: 0; line-height: 1.7;">
                                <span style="position: absolute; left: 0; top: 3px; color: #E9A544; font-size: 1rem;">•</span>
                                Methodology notes and data-readiness indicators
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Arrow 3 -->
                <div class="workflow-arrow hidden lg:flex">
                    <svg class="arrow-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                    </svg>
                </div>

                <!-- Step 4 -->
                <div class="modern-workflow-card group" data-step="4">
                    <div class="workflow-step-badge">04</div>
                    <div class="workflow-icon-container">
                        <svg class="workflow-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                        </svg>
                    </div>
                    <h3 class="workflow-step-title">Deliver</h3>
                    <p class="workflow-step-text" style="margin-bottom: 16px; font-size: 0.9rem; line-height: 1.5;">
                        Deliver board-ready slides and files, brand-aligned, in one click
                    </p>
                    <div style="text-align: left; font-size: 0.8125rem; color: #4b5563; line-height: 1.7; padding-top: 12px; border-top: 1px solid rgba(49, 46, 129, 0.1);">
                        <strong style="font-weight: 600; margin-bottom: 10px; display: block; color: #312e81; font-size: 0.8125rem;">Key features:</strong>
                        <ul style="list-style: none; padding-left: 0; margin: 0;">
                            <li style="padding-left: 18px; position: relative; margin-bottom: 10px; line-height: 1.7;">
                                <span style="position: absolute; left: 0; top: 3px; color: #E9A544; font-size: 1rem;">•</span>
                                Professional slide templates with auto-insert visuals
                            </li>
                            <li style="padding-left: 18px; position: relative; margin-bottom: 10px; line-height: 1.7;">
                                <span style="position: absolute; left: 0; top: 3px; color: #E9A544; font-size: 1rem;">•</span>
                                Brand AI support (logo, fonts, colour palette)
                            </li>
                            <li style="padding-left: 18px; position: relative; margin-bottom: 10px; line-height: 1.7;">
                                <span style="position: absolute; left: 0; top: 3px; color: #E9A544; font-size: 1rem;">•</span>
                                Export charts as images/PDF and data as XLS/CSV
                            </li>
                            <li style="padding-left: 18px; position: relative; margin-bottom: 0; line-height: 1.7;">
                                <span style="position: absolute; left: 0; top: 3px; color: #E9A544; font-size: 1rem;">•</span>
                                Citations consolidated for traceability
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ============================================
         SECTION 5: COMPARISON SECTION
         Purpose: Show advantages over generic AI tools
         ============================================ -->
    <section id="comparison" class="py-24">
        <div class="max-w-7xl mx-auto px-6 lg:px-8">
            <!-- Header -->
            <div class="text-center mb-16">
                <h2 class="text-3xl md:text-4xl font-light text-white mb-4" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'SF Pro Display', sans-serif; letter-spacing: -0.02em;">
                    Why Choose <span class="accent-color font-medium">Specialized Intelligence</span>
                </h2>
                <p class="text-lg text-gray-300 max-w-3xl mx-auto font-light" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'SF Pro Text', sans-serif;">
                    Generic tools fall short when you need real solar market expertise and professional results
                </p>
            </div>

            <!-- Comparison Cards -->
            <div class="grid lg:grid-cols-2 gap-6 max-w-6xl mx-auto">

                <!-- Left Card: Generic AI -->
                <div class="comparison-card comparison-card-left">
                    <div class="comparison-card-header">
                        <span class="comparison-badge comparison-badge-generic">Generic AI Tools</span>
                        <h3 class="comparison-card-title">ChatGPT & General AI Platforms</h3>
                    </div>

                    <div class="comparison-list">
                        <div class="comparison-item comparison-item-negative">
                            <div class="comparison-icon comparison-icon-negative">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                            </div>
                            <p>Limited to publicly available and often outdated solar market data</p>
                        </div>

                        <div class="comparison-item comparison-item-negative">
                            <div class="comparison-icon comparison-icon-negative">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                            </div>
                            <p>No access to proprietary databases or reports behind paywalls</p>
                        </div>

                        <div class="comparison-item comparison-item-negative">
                            <div class="comparison-icon comparison-icon-negative">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                            </div>
                            <p>Produce generic responses without verified market references</p>
                        </div>

                        <div class="comparison-item comparison-item-negative">
                            <div class="comparison-icon comparison-icon-negative">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                            </div>
                            <p>Cannot generate validated charts or forecasts from specialized datasets</p>
                        </div>

                        <div class="comparison-item comparison-item-negative">
                            <div class="comparison-icon comparison-icon-negative">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                            </div>
                            <p>Lack integration with industry feeds</p>
                        </div>
                    </div>
                </div>

                <!-- Right Card: Solar Intelligence -->
                <div class="comparison-card comparison-card-right">
                    <div class="comparison-card-header">
                        <span class="comparison-badge comparison-badge-premium">Our Platform</span>
                        <h3 class="comparison-card-title">Solar Intelligence</h3>
                    </div>

                    <div class="comparison-list">
                        <div class="comparison-item comparison-item-positive">
                            <div class="comparison-icon comparison-icon-positive">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                            <p>Access to 50,000+ validated data points across many global solar regions</p>
                        </div>

                        <div class="comparison-item comparison-item-positive">
                            <div class="comparison-icon comparison-icon-positive">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                            <p>Specialized AI agents trained on solar market intelligence and policy frameworks</p>
                        </div>

                        <div class="comparison-item comparison-item-positive">
                            <div class="comparison-icon comparison-icon-positive">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                            <p>Retrieve and synthesize insights from curated reports under paywall, ensuring fact-checked outputs</p>
                        </div>

                        <div class="comparison-item comparison-item-positive">
                            <div class="comparison-icon comparison-icon-positive">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                            <p>VALIDATED pricing, policy, NEWS and capacity analysis continuously updated</p>
                        </div>

                        <div class="comparison-item comparison-item-positive">
                            <div class="comparison-icon comparison-icon-positive">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                            <p>Interactive visualizations and export-ready professional reports</p>
                        </div>

                        <div class="comparison-item comparison-item-positive">
                            <div class="comparison-icon comparison-icon-positive">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                            <p>Seamless integration with The Becquerel Institute's European PV DataHub and leading market sources</p>
                        </div>
                    </div>
                </div>

            </div>

            <!-- CTA Button -->
            <div class="text-center mt-16">
                <a href="{{ url_for('auth.login') }}" class="btn-primary text-white px-10 py-4 rounded-xl font-semibold text-base transition-all duration-300 inline-block">
                    Get Started Now
                </a>
                <p class="text-gray-300 text-sm mt-4 font-light" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'SF Pro Text', sans-serif;">
                    Start analyzing solar markets with specialized AI
                </p>
            </div>
        </div>
    </section>

    <!-- ============================================
         SECTION 6: FAQ SECTION
         Purpose: Answer common questions about the platform
         ============================================ -->
    <section id="faq" class="py-24" style="background-color: #F3F3F8;">
        <div class="max-w-7xl mx-auto px-6 lg:px-8">
            <div class="grid lg:grid-cols-12 gap-12 items-start">

                <!-- Left Column: Header -->
                <div class="lg:col-span-5">
                    <h2 class="text-3xl md:text-4xl font-light mb-4" style="color: #1e1b4b; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'SF Pro Display', sans-serif; letter-spacing: -0.02em;">
                        Frequently Asked <span class="accent-color font-medium">Questions</span>
                    </h2>
                    <p class="text-base" style="color: #312e81; font-weight: 400; line-height: 1.6; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'SF Pro Text', sans-serif;">
                        Discover valuable information about our platform, AI agents, data sources, and more.
                    </p>
                </div>

                <!-- Right Column: Questions -->
                <div class="lg:col-span-7">
                    <div class="faq-container">

                        <!-- Question 1 -->
                        <div class="faq-item">
                            <button class="faq-question">
                                <span>What data sources does Solar Intelligence use?</span>
                                <svg class="faq-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="faq-answer">
                                <p>Our platform integrates multiple authoritative sources including the European PV DataHub, market research reports, and real-time pricing feeds from global solar markets. We maintain 50,000+ validated data points across many regions, covering market capacity, module prices, technology trends, and industry news.</p>
                            </div>
                        </div>

                        <!-- Question 2 -->
                        <div class="faq-item">
                            <button class="faq-question">
                                <span>How do the AI agents differ from ChatGPT or other general AI tools?</span>
                                <svg class="faq-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="faq-answer">
                                <p>Our AI agents are domain-aware specialists trained on solar market intelligence with direct access to proprietary databases. They understand PV terms, units, and definitions, provide validated insights with presentation-grade visualizations, and include methodology notes and sources for traceability—capabilities that general AI tools cannot offer.</p>
                            </div>
                        </div>

                        <!-- Question 3 -->
                        <div class="faq-item">
                            <button class="faq-question">
                                <span>Can I export the analysis and charts for presentations?</span>
                                <svg class="faq-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="faq-answer">
                                <p>Yes! All visualizations and analyses can be exported as images/PDF or data as XLS/CSV. Our professional slide templates auto-insert edited visuals and analyses with brand AI support for logo, fonts, and colour palette. Generate board-ready presentations with citations consolidated for traceability.</p>
                            </div>
                        </div>

                        <!-- Question 4 -->
                        <div class="faq-item">
                            <button class="faq-question">
                                <span>What regions and markets does the platform cover?</span>
                                <svg class="faq-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="faq-answer">
                                <p>Our platform covers 38 regions globally, with comprehensive data for Europe (including all EU member states), North America, China, India, and emerging solar markets. We provide regional breakdowns for market capacity, pricing trends, policy updates, and technology adoption.</p>
                            </div>
                        </div>

                        <!-- Question 5 -->
                        <div class="faq-item">
                            <button class="faq-question">
                                <span>How frequently is the data updated?</span>
                                <svg class="faq-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="faq-answer">
                                <p>Market data and pricing information are updated from our integrated feeds. Historical datasets and research reports are updated monthly, while news and policy updates are refreshed weekly. Our AI agents always work with the most current available data to ensure accurate analysis.</p>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- ============================================
         SECTION 7: FOOTER
         Purpose: Links, copyright, and additional navigation
         ============================================ -->
    <footer class="footer-modern">
        <div class="max-w-7xl mx-auto px-6 lg:px-8">

            <!-- Top Section: Contact CTA -->
            <div class="footer-top">
                <div class="footer-cta">
                    <h3 class="footer-cta-text">
                        How can we help? <a href="#" class="footer-cta-link" onclick="openContactWidget(); return false;">Contact us</a>
                    </h3>
                </div>
                <div class="footer-social">
                    <a href="https://www.linkedin.com/company/becquerel-institute/" target="_blank" class="footer-social-link" aria-label="LinkedIn">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                        </svg>
                    </a>
                    <a href="https://www.becquerelinstitute.eu/ai-solutions-for-the-solar-industry" target="_blank" class="footer-social-link" aria-label="Website">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
                        </svg>
                    </a>
                    <a href="https://www.youtube.com/@becquerelinstitute8382" target="_blank" class="footer-social-link" aria-label="YouTube">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                        </svg>
                    </a>
                </div>
            </div>

            <!-- Middle Section: Large Logo -->
            <div class="footer-logo-section">
                <img src="{{ url_for('static', filename='logos/new_logo.svg') }}" alt="Solar Intelligence" class="footer-logo">
            </div>

            <!-- Bottom Section: Links -->
            <div class="footer-bottom">
                <div class="footer-links">
                    <a href="https://datahub.becquerelinstitute.eu/Home" target="_blank" class="footer-link">European PV Data Hub</a>
                    <a href="https://www.becquerelinstitute.eu/" target="_blank" class="footer-link">Becquerel Institute</a>
                    <a href="https://www.becquerelinstitute.eu/shop" target="_blank" class="footer-link">Market Reports</a>
                    <a href="#" class="footer-link" onclick="openContactWidget(); return false;">Contact</a>
                </div>
                <div class="footer-copyright">
                    © 2025 Solarintelligence. All rights reserved.
                </div>
            </div>

        </div>
    </footer>

    <!-- ============================================
         CONTACT WIDGET/MODAL
         ============================================ -->
    <div id="contactWidget" class="contact-widget-overlay">
        <div class="contact-widget-container">
            <!-- Close Button -->
            <button class="contact-widget-close" onclick="closeContactWidget()">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>

            <div class="contact-widget-content">
                <!-- Header -->
                <div class="contact-widget-header">
                    <h2 class="contact-widget-title">
                        Get in <span class="accent-color">touch</span>
                    </h2>
                    <p class="contact-widget-subtitle">
                        We'd love to hear from you. Send us a message and we'll respond as soon as possible.
                    </p>
                </div>

                <!-- Contact Form -->
                <form class="contact-widget-form" id="contactWidgetForm">
                    <!-- Name Fields -->
                    <div class="widget-form-row">
                        <div class="widget-form-group">
                            <label for="widgetFirstName" class="widget-form-label">First name *</label>
                            <input type="text" id="widgetFirstName" name="firstName" class="widget-form-input" required>
                        </div>
                        <div class="widget-form-group">
                            <label for="widgetLastName" class="widget-form-label">Last name *</label>
                            <input type="text" id="widgetLastName" name="lastName" class="widget-form-input" required>
                        </div>
                    </div>

                    <!-- Email and Company -->
                    <div class="widget-form-row">
                        <div class="widget-form-group">
                            <label for="widgetEmail" class="widget-form-label">Email *</label>
                            <input type="email" id="widgetEmail" name="email" class="widget-form-input" required>
                        </div>
                        <div class="widget-form-group">
                            <label for="widgetCompany" class="widget-form-label">Company</label>
                            <input type="text" id="widgetCompany" name="company" class="widget-form-input">
                        </div>
                    </div>

                    <!-- Message -->
                    <div class="widget-form-group">
                        <label for="widgetMessage" class="widget-form-label">Message *</label>
                        <textarea id="widgetMessage" name="message" rows="4" class="widget-form-input widget-form-textarea" required></textarea>
                    </div>

                    <!-- Privacy Consent -->
                    <div class="widget-form-checkbox-group">
                        <input type="checkbox" id="widgetConsent" name="consent" class="widget-form-checkbox" required>
                        <label for="widgetConsent" class="widget-form-checkbox-label">
                            I consent to be contacted and acknowledge the privacy policy
                        </label>
                    </div>

                    <!-- Submit Button -->
                    <button type="submit" class="widget-submit-button">
                        <span>Send Message</span>
                        <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                        </svg>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Smooth scroll script -->
    <script>
        // Custom smooth scrolling for navigation links with slower animation
        function smoothScrollTo(target, duration = 2000) {
            const targetPosition = target.offsetTop - (document.querySelector('nav')?.offsetHeight || 0) - 20;
            const startPosition = window.pageYOffset;
            const distance = targetPosition - startPosition;
            let startTime = null;

            function easeInOutCubic(t) {
                return t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2;
            }

            function animation(currentTime) {
                if (startTime === null) startTime = currentTime;
                const timeElapsed = currentTime - startTime;
                const progress = Math.min(timeElapsed / duration, 1);
                const ease = easeInOutCubic(progress);

                window.scrollTo(0, startPosition + (distance * ease));

                if (timeElapsed < duration) {
                    requestAnimationFrame(animation);
                }
            }

            requestAnimationFrame(animation);
        }

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                const href = this.getAttribute('href');
                if (href === '#' || href === '') return; // Skip empty or just # links

                e.preventDefault();
                const target = document.querySelector(href);
                if (target) {
                    smoothScrollTo(target, 2000); // 2000ms = 2 seconds for very smooth, slow scroll
                }
            });
        });

        // Add scroll effect to navigation
        window.addEventListener('scroll', function() {
            const nav = document.querySelector('nav');
            if (window.scrollY > 100) {
                nav.style.position = 'fixed';
                nav.style.top = '0';
                nav.style.left = '0';
                nav.style.right = '0';
                nav.style.background = 'rgba(0, 10, 85, 0.95)';
                nav.style.backdropFilter = 'blur(20px)';
                nav.style.borderBottom = '1px solid rgba(233, 165, 68, 0.1)';
                nav.style.transition = 'all 0.3s ease';
                nav.style.zIndex = '100';
            } else {
                nav.style.position = 'relative';
                nav.style.background = 'transparent';
                nav.style.backdropFilter = 'none';
                nav.style.borderBottom = 'none';
            }
        });

        // Ensure page is scrollable
                 document.body.style.overflowY = 'auto';
         document.documentElement.style.overflowY = 'auto';

     </script>

     <!-- GDPR Cookie Consent -->
     <script src="{{ url_for('static', filename='js/cookie-consent.js') }}"></script>

     <!-- ============================================
          SIMPLIFIED D3 CHART RENDERER FOR LANDING PAGE
          ============================================ -->
     <script>
         // Simplified D3 chart renderer for landing page showcase
         function renderShowcaseChart(containerId, plotData) {
             if (typeof d3 === 'undefined') {
                 console.error('D3.js is not loaded');
                 return;
             }

             const container = d3.select(`#${containerId}`);
             container.selectAll('*').remove();

             const margin = {top: 30, right: 30, bottom: 55, left: 60};
             const width = 420 - margin.left - margin.right;
             const height = 220 - margin.top - margin.bottom;

             const svg = container.append('svg')
                 .attr('viewBox', `0 0 ${width + margin.left + margin.right} ${height + margin.top + margin.bottom}`)
                 .attr('preserveAspectRatio', 'xMidYMid meet')
                 .style('width', '100%')
                 .style('height', '100%')
                 .style('font-family', 'Inter, sans-serif');

             const g = svg.append('g')
                 .attr('transform', `translate(${margin.left},${margin.top})`);

             // Add subtle background
             g.append('rect')
                 .attr('width', width)
                 .attr('height', height)
                 .attr('fill', '#fafafa')
                 .attr('rx', 4);

             // Extract data
             const data = plotData.data;
             const categories = [...new Set(data.map(d => d.category))];
             const series = plotData.series_info.map(s => s.name);

             // Create scales
             const x = d3.scaleBand()
                 .domain(categories)
                 .range([0, width])
                 .padding(0.35)
                 .paddingOuter(0.2);

             const y = d3.scaleLinear()
                 .domain([0, d3.max(data, d => d.value) * 1.15])
                 .nice()
                 .range([height - 5, 5]);

             const color = d3.scaleOrdinal()
                 .domain(series)
                 .range(['#E9A544', '#3b82f6', '#10b981', '#8b5cf6', '#f59e0b']);

             // Add horizontal grid lines
             g.append('g')
                 .attr('class', 'grid')
                 .selectAll('line')
                 .data(y.ticks(5))
                 .join('line')
                 .attr('x1', 0)
                 .attr('x2', width)
                 .attr('y1', d => y(d))
                 .attr('y2', d => y(d))
                 .attr('stroke', '#e5e7eb')
                 .attr('stroke-width', 1)
                 .attr('stroke-dasharray', '2,2');

             // Draw X axis
             const xAxis = g.append('g')
                 .attr('transform', `translate(0,${height})`)
                 .call(d3.axisBottom(x).tickSize(0));

             xAxis.select('.domain')
                 .attr('stroke', '#d1d5db')
                 .attr('stroke-width', 1.5);

             xAxis.selectAll('text')
                 .style('font-size', '11px')
                 .style('font-weight', '500')
                 .style('fill', '#374151')
                 .attr('dy', '0.8em');

             // Draw Y axis
             const yAxis = g.append('g')
                 .call(d3.axisLeft(y).ticks(5).tickSize(0).tickPadding(8));

             yAxis.select('.domain')
                 .attr('stroke', '#d1d5db')
                 .attr('stroke-width', 1.5);

             yAxis.selectAll('text')
                 .style('font-size', '10px')
                 .style('font-weight', '500')
                 .style('fill', '#6b7280');

             // Y-axis label
             g.append('text')
                 .attr('transform', 'rotate(-90)')
                 .attr('y', -45)
                 .attr('x', -height / 2)
                 .attr('text-anchor', 'middle')
                 .style('font-size', '11px')
                 .style('font-weight', '600')
                 .style('fill', '#4b5563')
                 .text(plotData.y_axis_label || '');

             if (plotData.plot_type === 'stacked') {
                 // Stacked bar chart
                 const stack = d3.stack()
                     .keys(series)
                     .value((d, key) => {
                         const item = data.find(item => item.category === d.category && item.series === key);
                         return item ? item.value : 0;
                     });

                 const stackedData = stack(categories.map(cat => ({category: cat})));

                 g.selectAll('g.series')
                     .data(stackedData)
                     .join('g')
                     .attr('class', 'series')
                     .attr('fill', d => color(d.key))
                     .selectAll('rect')
                     .data(d => d)
                     .join('rect')
                     .attr('x', d => x(d.data.category))
                     .attr('y', d => y(d[1]))
                     .attr('height', d => y(d[0]) - y(d[1]))
                     .attr('width', x.bandwidth())
                     .attr('rx', 2)
                     .style('transition', 'all 0.3s ease')
                     .on('mouseover', function() {
                         d3.select(this)
                             .style('opacity', 0.85)
                             .style('cursor', 'pointer');
                     })
                     .on('mouseout', function() {
                         d3.select(this)
                             .style('opacity', 1);
                     });

             } else if (plotData.plot_type === 'bar') {
                 // Grouped bar chart
                 const x1 = d3.scaleBand()
                     .domain(series)
                     .range([0, x.bandwidth()])
                     .padding(0.15);

                 g.selectAll('g.category')
                     .data(categories)
                     .join('g')
                     .attr('class', 'category')
                     .attr('transform', d => `translate(${x(d)},0)`)
                     .selectAll('rect')
                     .data(category => series.map(s => {
                         const item = data.find(d => d.category === category && d.series === s);
                         return {series: s, value: item ? item.value : 0};
                     }))
                     .join('rect')
                     .attr('x', d => x1(d.series))
                     .attr('y', d => y(d.value))
                     .attr('width', x1.bandwidth())
                     .attr('height', d => height - y(d.value))
                     .attr('fill', d => color(d.series))
                     .attr('rx', 2)
                     .style('transition', 'all 0.3s ease')
                     .on('mouseover', function() {
                         d3.select(this)
                             .style('opacity', 0.85)
                             .style('cursor', 'pointer');
                     })
                     .on('mouseout', function() {
                         d3.select(this)
                             .style('opacity', 1);
                     });
             }

             // Legend with better styling
             const legend = g.append('g')
                 .attr('transform', `translate(${width / 2 - (series.length * 42)}, ${height + 32})`);

             series.forEach((s, i) => {
                 const legendItem = legend.append('g')
                     .attr('transform', `translate(${i * 90}, 0)`)
                     .style('cursor', 'default');

                 // Legend color box with border
                 legendItem.append('rect')
                     .attr('width', 12)
                     .attr('height', 12)
                     .attr('rx', 2.5)
                     .attr('fill', color(s))
                     .attr('stroke', 'rgba(0,0,0,0.1)')
                     .attr('stroke-width', 0.5);

                 // Legend text
                 legendItem.append('text')
                     .attr('x', 18)
                     .attr('y', 10)
                     .style('font-size', '10px')
                     .style('fill', '#374151')
                     .style('font-weight', '600')
                     .style('letter-spacing', '0.3px')
                     .text(s);
             });
         }
     </script>

     <!-- ============================================
          AGENT SHOWCASE ANIMATION
          Click-to-advance stacked carousel with typewriter effect
          ============================================ -->
     <script>
         // Sample chart data for showcase
         const showcaseChartData = {
             1: {
                 "data": [
                     {"category": 2020, "series": "Centralised", "value": 150, "formatted_value": "150"},
                     {"category": 2020, "series": "Distributed", "value": 635, "formatted_value": "635"},
                     {"category": 2021, "series": "Centralised", "value": 54.03, "formatted_value": "54.0"},
                     {"category": 2021, "series": "Distributed", "value": 890.22, "formatted_value": "890"},
                     {"category": 2022, "series": "Centralised", "value": 355, "formatted_value": "355"},
                     {"category": 2022, "series": "Distributed", "value": 2115, "formatted_value": "2.1k"},
                     {"category": 2023, "series": "Centralised", "value": 924, "formatted_value": "924"},
                     {"category": 2023, "series": "Distributed", "value": 4331, "formatted_value": "4.3k"},
                     {"category": 2024, "series": "Centralised", "value": 2246, "formatted_value": "2.2k"},
                     {"category": 2024, "series": "Distributed", "value": 4436, "formatted_value": "4.4k"}
                 ],
                 "plot_type": "stacked",
                 "title": "Annual Market by Connection Type",
                 "unit": "MW",
                 "x_axis_label": "",
                 "y_axis_label": "Capacity (MW)",
                 "series_info": [
                     {"name": "Centralised"},
                     {"name": "Distributed"}
                 ]
             },
             2: {
                 "data": [
                     {"category": 2022, "series": "China", "value": 0.18, "formatted_value": "$0.18"},
                     {"category": 2023, "series": "China", "value": 0.12, "formatted_value": "$0.12"},
                     {"category": 2024, "series": "China", "value": 0.09, "formatted_value": "$0.09"},
                     {"category": 2022, "series": "India", "value": 0.24, "formatted_value": "$0.24"},
                     {"category": 2023, "series": "India", "value": 0.19, "formatted_value": "$0.19"},
                     {"category": 2024, "series": "India", "value": 0.15, "formatted_value": "$0.15"}
                 ],
                 "plot_type": "bar",
                 "title": "Module Prices: China vs India",
                 "unit": "$/W",
                 "x_axis_label": "",
                 "y_axis_label": "Price ($/W)",
                 "series_info": [
                     {"name": "China"},
                     {"name": "India"}
                 ]
             }
         };

         // Agent Showcase Click-to-Advance Stacked Carousel
         function initAgentShowcase() {
             const cards = document.querySelectorAll('.agent-showcase-card');

             if (cards.length === 0) return; // Exit if no cards (mobile view)

             let currentIndex = 0;
             let autoRotateInterval;
             const autoRotateDuration = 8000; // Auto-rotate every 8 seconds (longer to accommodate typing)
             const pauseDuration = 10000; // Pause for 10 seconds after manual interaction
             let currentAnimation = null; // Track current animation

             // Store original text content for each card
             const cardData = [];
             cards.forEach((card, idx) => {
                 const userMessageWrapper = card.querySelector('.user-message-wrapper');
                 const agentResponseWrapper = card.querySelector('.agent-response-wrapper');
                 const userMessage = userMessageWrapper ? userMessageWrapper.querySelector('.user-message') : null;
                 const agentResponse = agentResponseWrapper ? agentResponseWrapper.querySelector('.agent-response') : null;
                 const agentChart = card.querySelector('.agent-response-chart');
                 const chartContainer = card.querySelector('.interactive-chart-container');
                 const agentStatus = card.querySelector('.agent-status');

                 cardData.push({
                     userText: userMessage ? userMessage.textContent.trim() : '',
                     agentText: agentResponse ? agentResponse.textContent.trim() : '',
                     hasChart: !!chartContainer,
                     chartContainer: chartContainer,
                     chartData: showcaseChartData[idx + 1] || null,
                     chartElement: agentChart,
                     statusElement: agentStatus,
                     userElement: userMessage,
                     agentElement: agentResponse
                 });

                 // Clear initial content
                 if (userMessage) userMessage.textContent = '';
                 if (agentResponse) agentResponse.textContent = '';
                 if (agentChart) agentChart.style.display = 'none';
             });

             // Typewriter effect - clean implementation
             function typeText(element, text, speed = 30) {
                 return new Promise((resolve) => {
                     // Clear element and start fresh
                     element.textContent = '';
                     let index = 0;
                     let intervalId = null;

                     // Add cursor
                     const cursor = document.createElement('span');
                     cursor.className = 'typing-cursor';
                     element.appendChild(cursor);

                     intervalId = setInterval(() => {
                         // Check if cursor is still in the DOM
                         if (!cursor.parentNode || cursor.parentNode !== element) {
                             clearInterval(intervalId);
                             resolve();
                             return;
                         }

                         if (index < text.length) {
                             try {
                                 // Insert character before cursor
                                 const textNode = document.createTextNode(text[index]);
                                 element.insertBefore(textNode, cursor);
                                 index++;
                             } catch (error) {
                                 // If insertion fails, stop the animation
                                 clearInterval(intervalId);
                                 resolve();
                             }
                         } else {
                             clearInterval(intervalId);
                             // Remove cursor after a brief pause
                             setTimeout(() => {
                                 if (cursor.parentNode === element) {
                                     cursor.remove();
                                 }
                                 resolve();
                             }, 500);
                         }
                     }, speed);
                 });
             }

             // Animate card content when it becomes visible
             async function animateCard(index) {
                 const data = cardData[index];
                 if (!data) return;

                 // Store this animation as current
                 const thisAnimation = {};
                 currentAnimation = thisAnimation;

                 // Update status to "Searching..." or similar
                 if (data.statusElement) {
                     data.statusElement.textContent = 'Searching...';
                 }

                 // Type user message
                 if (data.userElement && data.userText) {
                     await typeText(data.userElement, data.userText, 40);
                     if (currentAnimation !== thisAnimation) return; // Animation cancelled
                 }

                 // Small delay between user message and agent response
                 await new Promise(resolve => setTimeout(resolve, 300));
                 if (currentAnimation !== thisAnimation) return; // Animation cancelled

                 // Update status to show agent is responding
                 if (data.statusElement) {
                     if (data.hasChart) {
                         data.statusElement.textContent = 'Generating visualization...';
                     } else {
                         data.statusElement.textContent = 'Responding...';
                     }
                 }

                 // Type agent response if exists
                 if (data.agentElement && data.agentText) {
                     await typeText(data.agentElement, data.agentText, 25);
                     if (currentAnimation !== thisAnimation) return; // Animation cancelled
                 }

                 // Show chart with fade-in animation if exists
                 if (data.hasChart && data.chartElement && data.chartContainer && data.chartData) {
                     await new Promise(resolve => setTimeout(resolve, 300));
                     if (currentAnimation !== thisAnimation) return; // Animation cancelled

                     data.chartElement.style.display = 'flex';
                     data.chartElement.classList.add('chart-fade-in');

                     // Render D3 chart using simplified renderer
                     await new Promise(resolve => setTimeout(resolve, 200));
                     if (currentAnimation !== thisAnimation) return; // Animation cancelled

                     try {
                         renderShowcaseChart(data.chartContainer.id, data.chartData);
                     } catch (error) {
                         console.error('Error rendering chart:', error);
                     }
                 }

                 // Update status to complete (only if animation wasn't cancelled)
                 if (currentAnimation === thisAnimation && data.statusElement) {
                     data.statusElement.textContent = 'Complete';
                 }
             }

             // Reset card content
             function resetCard(index) {
                 // Cancel any ongoing animation
                 currentAnimation = null;

                 const data = cardData[index];
                 if (!data) return;

                 if (data.userElement) data.userElement.textContent = '';
                 if (data.agentElement) data.agentElement.textContent = '';
                 if (data.chartElement) {
                     data.chartElement.style.display = 'none';
                     data.chartElement.classList.remove('chart-fade-in');
                 }
                 if (data.chartContainer) {
                     data.chartContainer.innerHTML = '';
                 }
                 if (data.statusElement) data.statusElement.textContent = 'Idle';
             }

             // Update card positions based on current index
             function updateCardPositions() {
                 cards.forEach((card, index) => {
                     // Calculate relative position from current index
                     let position = (index - currentIndex + cards.length) % cards.length;

                     const oldPosition = card.getAttribute('data-position');

                     // Set data-position attribute for CSS transitions
                     if (position === 0) {
                         card.setAttribute('data-position', '0'); // Front

                         // Animate content when card becomes front
                         if (oldPosition !== '0') {
                             resetCard(index);
                             // Small delay before starting animation
                             setTimeout(() => animateCard(index), 600);
                         }
                     } else if (position === 1) {
                         card.setAttribute('data-position', '1'); // Second
                     } else if (position === 2) {
                         card.setAttribute('data-position', '2'); // Third
                     } else {
                         card.setAttribute('data-position', '-1'); // Hidden
                     }
                 });
             }

             // Navigate to next card
             function nextCard() {
                 currentIndex = (currentIndex + 1) % cards.length;
                 updateCardPositions();
             }

             // Start auto-rotation
             function startAutoRotate() {
                 stopAutoRotate(); // Clear any existing interval
                 autoRotateInterval = setInterval(nextCard, autoRotateDuration);
             }

             // Stop auto-rotation
             function stopAutoRotate() {
                 if (autoRotateInterval) {
                     clearInterval(autoRotateInterval);
                     autoRotateInterval = null;
                 }
             }

             // Handle manual interaction (pauses auto-rotation temporarily)
             function handleManualInteraction(callback) {
                 stopAutoRotate();
                 callback();
                 // Resume auto-rotation after pause duration
                 setTimeout(startAutoRotate, pauseDuration);
             }

             // Add click/tap listeners to cards
             cards.forEach(card => {
                 card.addEventListener('click', () => {
                     // Only advance if clicking the front card
                     if (card.getAttribute('data-position') === '0') {
                         handleManualInteraction(nextCard);
                     }
                 });
             });

             // Initialize positions and start first card animation
             updateCardPositions();
             animateCard(0); // Start animation for first card
             startAutoRotate();
         }

         // Initialize showcase when page loads
         document.addEventListener('DOMContentLoaded', initAgentShowcase);
     </script>

     <!-- ============================================
          FAQ ACCORDION FUNCTIONALITY
          ============================================ -->
     <script>
         // FAQ Accordion
         document.addEventListener('DOMContentLoaded', function() {
             const faqItems = document.querySelectorAll('.faq-item');

             faqItems.forEach(item => {
                 const question = item.querySelector('.faq-question');

                 question.addEventListener('click', () => {
                     // Check if this item is already active
                     const isActive = item.classList.contains('active');

                     // Close all items
                     faqItems.forEach(otherItem => {
                         otherItem.classList.remove('active');
                     });

                     // If the clicked item wasn't active, open it
                     if (!isActive) {
                         item.classList.add('active');
                     }
                 });
             });

             // Open first item by default
             if (faqItems.length > 0) {
                 faqItems[0].classList.add('active');
             }
         });
     </script>

     <!-- ============================================
          CONTACT WIDGET FUNCTIONALITY
          ============================================ -->
     <script>
         // Open contact widget
         function openContactWidget() {
             const widget = document.getElementById('contactWidget');
             widget.classList.add('active');
             document.body.style.overflow = 'hidden'; // Prevent background scrolling
         }

         // Close contact widget
         function closeContactWidget() {
             const widget = document.getElementById('contactWidget');
             widget.classList.remove('active');
             document.body.style.overflow = ''; // Restore scrolling
         }

         // Close widget when clicking outside
         document.getElementById('contactWidget').addEventListener('click', function(e) {
             if (e.target === this) {
                 closeContactWidget();
             }
         });

         // Handle form submission
         document.getElementById('contactWidgetForm').addEventListener('submit', async function(e) {
             e.preventDefault();

             const formData = new FormData(this);
             const submitButton = this.querySelector('.widget-submit-button');
             const originalText = submitButton.innerHTML;

             // Show loading state
             submitButton.disabled = true;
             submitButton.innerHTML = '<span>Sending...</span>';

             try {
                 const response = await fetch('/submit-contact', {
                     method: 'POST',
                     body: formData
                 });

                 const result = await response.json();

                 if (result.success) {
                     // Replace form with success message
                     const formContainer = document.querySelector('.contact-widget-content');
                     formContainer.innerHTML = `
                         <div style="text-align: center; padding: 3rem 2rem;">
                             <div style="width: 64px; height: 64px; background: #10b981; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1.5rem;">
                                 <svg width="32" height="32" fill="none" stroke="white" stroke-width="3" viewBox="0 0 24 24">
                                     <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path>
                                 </svg>
                             </div>
                             <h3 style="font-size: 1.5rem; font-weight: 600; color: #000A55; margin-bottom: 1rem;">Message Sent!</h3>
                             <p style="font-size: 1rem; color: #6b7280; margin-bottom: 2rem;">Thank you for your message! We will get back to you soon.</p>
                             <button onclick="closeContactWidget()" style="padding: 0.75rem 2rem; background: #2563eb; color: white; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer;">Close</button>
                         </div>
                     `;
                 } else {
                     alert('An error occurred. Please try again.');
                     submitButton.disabled = false;
                     submitButton.innerHTML = originalText;
                 }
             } catch (error) {
                 console.error('Error:', error);
                 alert('Network error. Please try again.');
                 submitButton.disabled = false;
                 submitButton.innerHTML = originalText;
             }
         });

         // Close on Escape key
         document.addEventListener('keydown', function(e) {
             if (e.key === 'Escape') {
                 closeContactWidget();
             }
         });
     </script>
</body>
</html>