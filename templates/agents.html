<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hire AI Agents - Solar Intelligence</title>
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='logos/new_logo.svg') }}">
    <meta name="csrf-token" content="{{ csrf_token() }}">

    <!-- External CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/pages/agents.css') }}">

    <!-- Inter Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="agents-page">
    <!-- Notification -->
    <div id="notification" class="agents-notification"></div>

    <!-- Main Container -->
    <div class="agents-container">
        <!-- Sidebar: My Team -->
        <aside class="agents-sidebar">
            <div class="agents-sidebar__card">
                <!-- Logo -->
                <div class="agents-sidebar__logo">
                    <a href="{{ url_for('static.landing') }}" style="text-decoration: none;">
                        <span class="agents-sidebar__logo-text">SolarIntelligence</span>
                    </a>
                </div>

                <!-- Header -->
                <div class="agents-sidebar__header">
                    <h2 class="agents-sidebar__title">My Team</h2>
                    <p class="agents-sidebar__subtitle">Agents you've hired for analysis</p>
                </div>

                <!-- Hired Agents List (populated by JS) -->
                <div id="hired-agents-container" class="agents-hired-list"></div>

                <!-- Start Chat Button -->
                <a href="/dashboard" class="agents-start-chat-btn" id="start-chat-btn">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                    </svg>
                    Start Chat
                </a>
            </div>
        </aside>

        <!-- Top Right User Menu -->
        <div class="agents-user-menu">
            <a href="{{ url_for('auth.profile') }}" class="agents-user-menu__btn" title="Profile" aria-label="Go to profile page">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                </svg>
            </a>
            <a href="{{ url_for('auth.logout') }}" class="agents-user-menu__btn agents-user-menu__btn--logout" title="Logout" aria-label="Logout">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                </svg>
            </a>
        </div>

        <!-- Main Content: Available Agents -->
        <main class="agents-main-content">
            <!-- Page Header -->
            <header class="agents-header">
                <h1 class="agents-header__title">
                    Hire Your <span class="agents-header__title--accent">AI Team</span>
                </h1>
                <p class="agents-header__subtitle">
                    Build your custom team of AI specialists. Each agent brings unique expertise to analyze solar market data, pricing trends, or industry news.
                </p>
            </header>

            <!-- Agent Cards Grid -->
            <div class="agents-grid">
                <!-- Price Analysis Agent - Maya -->
                <article class="agent-card" data-agent-card="price" data-color="gold">
                    <div class="agent-card__beta-badge" title="Beta Version - Features under active development">BETA</div>
                    <div class="agent-card__check">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                        </svg>
                    </div>

                    <div class="agent-card__content">
                        <div class="agent-card__header">
                            <div class="agent-card__initial">M</div>
                            <div class="agent-card__title-wrapper">
                                <h3 class="agent-card__name">Maya</h3>
                                <p class="agent-card__role">Price Analysis</p>
                            </div>
                        </div>

                        <div class="agent-card__badges">
                            <span class="agent-card__badge agent-card__badge--datahub">DataHub</span>
                            <span class="agent-card__badge agent-card__badge--charts">Charts</span>
                        </div>

                        <p class="agent-card__description">
                            Tracks solar module pricing, cost breakdowns, and technology comparisons with interactive charts
                        </p>
                    </div>

                    <button class="agent-card__btn" data-hire-btn="price" aria-label="Hire Maya, the Price Analysis agent">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                        </svg>
                        Hire Agent
                    </button>
                </article>

                <!-- News Analyst Agent - Emma -->
                <article class="agent-card" data-agent-card="news" data-color="navy-light">
                    <div class="agent-card__check">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                        </svg>
                    </div>

                    <div class="agent-card__content">
                        <div class="agent-card__header">
                            <div class="agent-card__initial">E</div>
                            <div class="agent-card__title-wrapper">
                                <h3 class="agent-card__name">Emma</h3>
                                <p class="agent-card__role">News Analyst</p>
                            </div>
                        </div>

                        <div class="agent-card__badges">
                            <span class="agent-card__badge agent-card__badge--news">News DB</span>
                        </div>

                        <p class="agent-card__description">
                            Latest PV industry news, developments, and trends from curated news sources
                        </p>
                    </div>

                    <button class="agent-card__btn" data-hire-btn="news" aria-label="Hire Emma, the News Analyst agent">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                        </svg>
                        Hire Agent
                    </button>
                </article>

                <!-- Digitalization Expert Agent - Nova -->
                <article class="agent-card" data-agent-card="digitalization" data-color="navy">
                    <div class="agent-card__check">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                        </svg>
                    </div>

                    <div class="agent-card__content">
                        <div class="agent-card__header">
                            <div class="agent-card__initial">N</div>
                            <div class="agent-card__title-wrapper">
                                <h3 class="agent-card__name">Nova</h3>
                                <p class="agent-card__role">Digitalization Expert</p>
                            </div>
                        </div>

                        <div class="agent-card__badges">
                            <span class="agent-card__badge agent-card__badge--ai">AI Reports</span>
                        </div>

                        <p class="agent-card__description">
                            Expert in digitalization and AI integration across the PV value chain
                        </p>
                    </div>

                    <button class="agent-card__btn" data-hire-btn="digitalization" aria-label="Hire Nova, the Digitalization Expert agent">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                        </svg>
                        Hire Agent
                    </button>
                </article>

                <!-- Market Analysis Agent - Alex -->
                <article class="agent-card" data-agent-card="market" data-color="gold-dark">
                    <div class="agent-card__beta-badge" title="Beta Version - Features under active development">BETA</div>
                    <div class="agent-card__check">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                        </svg>
                    </div>

                    <div class="agent-card__content">
                        <div class="agent-card__header">
                            <div class="agent-card__initial">A</div>
                            <div class="agent-card__title-wrapper">
                                <h3 class="agent-card__name">Alex</h3>
                                <p class="agent-card__role">PV Capacity</p>
                            </div>
                        </div>

                        <div class="agent-card__badges">
                            <span class="agent-card__badge agent-card__badge--datahub">DataHub</span>
                            <span class="agent-card__badge agent-card__badge--charts">Charts</span>
                            <span class="agent-card__badge agent-card__badge--code">Code Interpreter</span>
                        </div>

                        <p class="agent-card__description">
                            Advanced PV capacity analysis with code interpreter - analyzes complex PV market data, installations, and forecasts
                        </p>
                    </div>

                    <button class="agent-card__btn" data-hire-btn="market" aria-label="Hire Alex, the PV Capacity analyst agent">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                        </svg>
                        Hire Agent
                    </button>
                </article>
            </div>
        </main>
    </div>

    <!-- External JavaScript -->
    <script src="{{ url_for('static', filename='js/pages/agents.js') }}"></script>
    <script>
        // Initialize the page with server-side data
        document.addEventListener('DOMContentLoaded', function() {
            const hiredAgents = {{ hired_agents | tojson }};
            initializeAgentsPage(hiredAgents);
        });
    </script>
</body>
</html>
